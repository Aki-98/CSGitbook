# 代码测试

## 分类

按是否查看程序内部结构分为

- **黑盒测试**（black-box testing）：只关心输入和输出的结果，黑盒测试分为功能测试和性能测试
- **白盒测试**（white-box testing）：去研究里面的源代码和程序结构

按是否运行程序分为：静态测试、动态测试

- **静态测试**（static testing）：是指<u>不实际运行</u>被测软件，而只是静态地检查程序代码、界面或文档可能存在的错误的过程。包括：
  - 对于代码测试，主要是测试代码是否符合相应的标准和规范。
  - 对于界面测试，主要测试软件的实际界面与需求中的说明是否相符。
  - 对于文档测试，主要测试用户手册和需求说明是否真正符合用户的实际需求。
- **动态测试**（dynamic testing）：是指实际运行被测程序，输入相应的测试数据，检查输出结果和预期结果是否相符的过程

按阶段划分：

- **单元测试**（unit testing），是指对软件中的最小可测试单元进行检查和验证。
  - **桩模块**（stud）是指模拟被测模块所调用的模块，**驱动模块**（driver）是指模拟被测模块的上级模块，驱动模块用来接收测试数据，启动被测模块并输出结果。
- **集成测试**（integration testing），是单元测试的下一阶段，是指将通过测试的单元模块组装成系统或子系统，再进行测试，重点测试不同模块的接口部门。
  - 集成测试就是用来检查各个单元模块结合到一起能否协同配合，正常运行。
- **系统测试**（system testing），指的是将整个软件系统看做一个整体进行测试，包括对功能、性能，以及软件所运行的软硬件环境进行测试。
  - 系统测试的主要依据是《系统需求规格说明书》文档
- **验收测试**（acceptance testing），指的是在系统测试的后期，以用户测试为主，或有测试人员等质量保障人员共同参与的测试，它也是软件正式交给用户使用的最后一道工序
  - 验收测试又分为a测试和beta测试，其中**a测试**指的是由用户、 测试人员、开发人员等共同参与的内部测试，而**beta测试**指的是内测后的公测，即完全交给最终用户测试、

# 单元测试

单元测试 是针对 程序的最小单元 来进行正确性检验的测试工作。程序单元是应用的最小可测试部件。一个单元可能是<u>单个程序、类、对象、方法</u>等。 



## 单元测试的分类：

- **本地测试**(Local tests): 只在本地机器JVM上运行，以最小化执行时间，这种单元测试不依赖于Android框架，或者即使有依赖，也很方便使用模拟框架来模拟依赖，以达到隔离Android依赖的目的，模拟框架如google推荐的<u>Mockito</u>
- **仪器化测试**(Instrumented tests): 在真机或模拟器上运行的单元测试，由于需要跑到设备上，比较慢，这些测试可以访问仪器（Android系统）信息，比如被测应用程序的上下文，一般地，依赖不太方便通过模拟框架模拟时采用这种方式



## 单元测试的测试内容：

- 列出想要测试覆盖的正常、异常情况，进行测试验证

- 性能测试，例如某个算法的耗时等等

注意：

- 这里提一句，测试用例用来达到也想要的结果，但对于逻辑错误无能为力
- 两种错误：断言方法报错，逻辑代码问题



## 为什么要使用单元测试：

- 减少bug
- 快速定位bug、减少调试时间
- 提高代码质量
- 放心重构



## Android中的测试：

- 单元测试（Junit4、Mockito、PowerMockito、Robolectric）
- UI测试（Espresso、UI Automator）
- 压力测试（Monkey）
- 使用单元测试的时候注意进行依赖隔离

- Android中的单元测试框架有很多，Junit，Mockito，Robolectric，PowerMockito
