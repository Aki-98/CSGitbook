# init进程分析

![image-20231205174832961](E:\.personal\CSGitbook\04_Android\4-1.框架层-基础与源码\1-2.init进程_imgs\image-20231205174832961.png)

读图：

1. init进程启动zygote和servicemanager
2. zygote利用socket与system_server进行联系
3. system_server\servicemanager\app三者之间利用binder进行联系

init进程的操作：

1. 创建和挂载启动所需要的文件目录
2. 初始化和启动属性服务
3. 解析init.rc配置文件并启动Zygote进程

精炼源码分析（以后在更新的源码上再看一次）：

1. ueventd主要负责设备节点的创建、权限设定等一系列工作；watchdogd用于系统出问题时重启系统

2. 如果参数同时从命令行和DT传过来，DT的优先级总是大于命令行的

> 在 Android 中，"Device Tree"（设备树）通常是指 Android 操作系统的设备树机制。设备树是一种用于描述硬件设备和其连接关系的数据结构，它被广泛用于嵌入式系统中，包括 Android 设备。
>
> Android 设备树的主要目的是为了在 Linux 内核中动态描述和配置硬件设备。设备树通常以一种类似于 XML 的结构进行描述，其中包含了有关系统硬件、设备、中断、总线等信息的详细描述。
>
> 主要的 Android 设备树文件是 `dts`（设备树源）文件，它们编译成 `dtb`（设备树二进制）文件，然后由 Linux 内核加载并解释。设备树的使用允许 Android 操作系统在多种硬件平台上运行，而无需为每个平台定制和编译一个特定的内核。
>
> Android 设备树包括以下方面的信息：
>
> 1. **硬件组件：** 描述了处理器、内存、外设等硬件组件的信息。
> 2. **中断：** 描述了系统中各种中断的分配和连接。
> 3. **总线：** 描述了系统中使用的总线，如 I2C、SPI、PCI 等。
> 4. **设备：** 描述了连接到系统的各种设备，如传感器、摄像头、显示器等。
>
> 通过使用设备树，Android 能够更容易地适应各种硬件配置，使其更加灵活和可移植。