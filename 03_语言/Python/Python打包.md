

# 命令参数

## **基本参数**

| 参数             | 功能说明                                                 |
| ---------------- | -------------------------------------------------------- |
| `-F, --onefile`  | 将所有文件（脚本、依赖库等）打包成一个单独的可执行文件。 |
| `-D, --onedir`   | 将可执行文件和依赖文件打包成一个文件夹（默认）。         |
| `--name NAME`    | 指定生成的可执行文件的名称（默认是脚本名称）。           |
| `--distpath DIR` | 指定生成的打包文件输出路径（默认是 `dist/`）。           |
| `--workpath DIR` | 指定临时工作目录（默认是 `build/`）。                    |
| `--specpath DIR` | 指定 `.spec` 文件的存储路径（默认是当前目录）。          |
| `--noconfirm`    | 覆盖输出目录而不提示确认。                               |
| `--clean`        | 清理上一次生成的临时文件。                               |

## **附加依赖和模块**

| 参数                              | 功能说明                                                     |
| --------------------------------- | ------------------------------------------------------------ |
| `--add-data SRC;DEST`             | 添加非代码文件（如配置文件、资源文件等），格式为 `SRC;DEST`（路径分隔符在 Windows 使用分号 `;`，在其他系统使用冒号 `:`）。 |
| `--add-binary SRC;DEST`           | 添加二进制文件，格式与 `--add-data` 相同。                   |
| `--hidden-import MODULENAME`      | 手动指定需要打包的模块，避免自动检测时漏掉某些动态导入的模块。 |
| `--exclude-module MODULENAME`     | 指定不需要打包的模块（如测试用的模块）。                     |
| `--collect-submodules MODULENAME` | 收集并打包指定模块的所有子模块。                             |

## **优化和兼容**

| 参数            | 功能说明                                                     |
| --------------- | ------------------------------------------------------------ |
| `--key KEY`     | 为加密的 Python 字节码设置密钥（实验性）。                   |
| `--upx-dir DIR` | 指定 UPX（可执行文件压缩工具）的路径，用于进一步压缩可执行文件（需要安装 UPX）。 |
| `--noupx`       | 禁用 UPX 压缩。                                              |
| `--ascii`       | 强制以 ASCII 格式生成控制台输出文件（对于非 UTF-8 环境有用）。 |
| `--debug`       | 生成带调试符号的可执行文件（便于调试问题）。                 |

## **日志和信息**

| 参数                  | 功能说明                                                     |
| --------------------- | ------------------------------------------------------------ |
| `--log-level LEVEL`   | 设置日志级别（`DEBUG`、`INFO`、`WARN`、`ERROR`）。           |
| `--version-file FILE` | 使用指定的版本信息文件（Windows 下 `resource_version_info.rc` 文件）。 |

## **高级参数**

| 参数                  | 功能说明                                                     |
| --------------------- | ------------------------------------------------------------ |
| `--specpath DIR`      | 指定生成的 `.spec` 文件路径。                                |
| `--no-embed-manifest` | 不嵌入 manifest 文件到可执行文件中。                         |
| `--strip`             | 在可用的情况下，移除二进制文件的符号表（减小文件体积，但可能影响调试）。 |
| `--noupx`             | 禁用 UPX 压缩以防止兼容性问题。                              |

# 生成的目录与文件解析

/build 构建日志等
/dist 生成的.exe文件默认放置路径
.spec pyinstaller的配置文件

# 跨平台

在windows平台上打包的程序只能在windows上使用

在linux平台上打包的程序只能在linux上使用